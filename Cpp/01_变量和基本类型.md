# 变量和基本类型

## 指针数据和数组指针

``` cpp
// 拥有三个int类型值的数组
int arr[3] = {1, 2, 3};
// 拥有三个指针的指针数组
int *ptrArr[3] = {arr, arr + 1, arr + 2};
// 指向拥有三个数的数组的数组指针
int(*arrPtr)[3] = &arr;
```

## const

1. const定义常量

    ``` cpp
    // 编译器会在编译过程中将所有用到SIZE的地方全部替换成256
    const int SIZE = 256;

    // 一个文件中的const在多个文件中共享则，定义和生命全部为extern const
    extern const int SIZE = 256;
    ```

2. const指针

    ``` cpp
    int i = 10;
    // 可以通过该指针修改i的值，但是不可以指向其他地方
    const int *cpi = &i;  
    // 可以通过该指针修改i的值，但是不可以指向其他地方
    int * const pci = &i;
    ```

3. 顶层const和底层const

    ``` cpp
    // 顶层const：表示指针本身就是个常量
    int i = 0;
    int * const pci = &i;  // 不能改变pci的值，顶层
    // 底层const：表示所指对象是一个常量
    const int ci = 0;       // 不能改变ci的值，顶层
    const int *cpi = &i;    // 可以改变cpi的值，底层
    ```

## 处理类型

1. typedef

    ``` cpp
    typedef int t_int, *p_int;

    // t_int等价于int，p_int等价于int *
    t_int i = 0;
    p_int pi = nullptr;
    ```

2. auto

    ``` cpp
    // 自动推断类型，i为int类型
    auto i = 0;
    // auto一般会忽略顶层const，而保留底层const
    const int ci = 0;
    const int *cpi = &ci;
    int * const pci = &i;

    auto ai = ci;       // int
    auto acpi = cpi;    // const int *
    auto apci = pci;    // int *
    ```

3. decltype

    ``` cpp
    // 推断出变量或常量的原有类型
    int i = 0;
    const int ci = 0;
    const int *pci = 0;
    const int &ri = i;

    decltype(i) di;         // int
    decltype(ci) dci;       // const int
    decltype(pci) dpci;     // const int *
    decltype(ri) dri = i;   // const int &
    ```

4. using

    ``` cpp
    // 使用using进行类型别名
    using u_int = int;
    u_int i = 0;        // int
    ```
