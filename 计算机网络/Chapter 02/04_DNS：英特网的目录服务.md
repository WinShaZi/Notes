# DNS：英特网的目录服务

英特网上的主机可以用多种方式进行标识，`hostname`和`IP`

hostname|IP
:-:|:-:
www.baidu.com|36.152.44.95
www.google.com|36.152.44.95

## DNS提供的服务

DNS可以将hostname解析为对应的IP地址，是一个分层的DNS服务器实现的分布式数据库。DNS协议运行在UDP上，端口53

### DNS运行流程

1. 同一台用户主机上运行着DNS应用的客户端

2. 浏览器从URL中抽取主机名，并将主机名发送给DNS应用的客户端

3. DNS客户向DNS服务器发送一个包含主机名的请求

4. DNS最终会收到一份回答报文，其中含有对应于该主机名的IP地址

5. 一旦浏览器接收到来自DNS的该IP地址，它能够向位于该IP地址80端口的HTTP服务器进程发起一个TCP连接

### DNS重要服务

- 主机别名

    一台主机拥有一个规范主机名，还可以拥有多个别名。应用程序可以调用DNS来获得主机别名对应的规范主机名和IP地址

- 邮件服务器别名

    电子邮件应用程序可以调用DNS，对提供的主机名别名进行解析，以获得该主机的规范主机名及其IP地址。同一公司的邮件服务器和Web服务器可以使用相同的主机别名

- 负载均衡

    在冗余服务器群中，一个规范主机名对应一个IP地址集合。当客户请求报文时，DNS会向规范主机名对应的IP地址集合循环分配负载

## DNS工作机理概述

### 分布式层次数据库

### DNS缓存

## DNS记录和报文
