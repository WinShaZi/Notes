# 静态模式

## 常用参数

``` makefile
$^  表示所有的依赖文件
$@  表示目标文件
$<  表示第一个依赖文件
$?  表示比目标文件新的依赖文件
```

## 极简

``` makefile
TARGET := main
CC := gcc
OBJECTS = main.o test.o

$(TARGET) : $(OBJECTS)
    $(CC) $^ -o $@

%.o : %.c
    $(CC) -c $< -o $@

.PHONY : clean
clean:
    rm -f *.o $(TARGET)
```

## 目标

``` makefile
TARGET := main
CC := gcc
OBJECTS = main.o test.o

$(TARGET) : $(OBJECTS)
    $(CC) $^ -o $@

$(OBJECTS) : %.o : %.c
    $(CC) -c $< -o $@

.PHONY : clean
clean:
    rm -f *.o $(TARGET)
```
